<!DOCTYPE html>
<html>
  <head><title>Redirecting...</title></head>
  <body>
    <script>
      const params = new URLSearchParams(window.location.search);
      const code = params.get("code");
      if (code) {
        document.write(`<a id="openApp" href="com.example.oauth://auth?code=${encodeURIComponent(code)}">Tap here to continue</a>`);
        document.getElementById('openApp').click();
      }
    </script>
    <p>If nothing happens, <a id="manualLink" href="#">tap here</a>.</p>
    <script>
      // Fallback for manual tap
      const params2 = new URLSearchParams(window.location.search);
      const code2 = params2.get("code");
      document.getElementById('manualLink').href = `com.example.oauth://auth?code=${encodeURIComponent(code2)}`;
    </script>
  </body>
</html>
